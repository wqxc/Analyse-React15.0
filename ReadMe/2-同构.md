## 同构

### 解释：

一套代码既可以在服务端运行，又可以在客户端运行，这就是同构应用。简而言之, 就是服务端直出和客户端渲染的组合, 能够充分结合两者的优势，并有效避免两者的不足。


### 为什么要同构

性能: 通过Node直出, 将传统的三次串行http请求简化成一次http请求，降低首屏渲染时间

SEO: 服务端渲染对搜索引擎的爬取有着天然的优势。

兼容性: 部分展示类页面能够有效规避客户端兼容性问题，比如白屏。


### 同构的时机

一般来说，网络状况越差，同构的优势就越明显。不能说，同构就一定比不同构的项目要好，只能说是合适的项目进行同构。


### React的同构 - ReactDOM


ReactDOM 在这里提供的支持就是 ReactDOM.render 和 ReactDOM.renderToString 函数，其中前者会在浏览器端生成 DOM 结构，后者会在服务端生成对应的 HTML 字符串模板,而后返回给客户端，从而达到服务端渲染的目的。

React 会在生成的 DOM 结构上添加一个 data-react-checksum 的属性，这是一个 adler32 算法的校验和，用以确保两份模板的一致性。

